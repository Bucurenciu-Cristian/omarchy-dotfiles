add_newline = true
command_timeout = 200
format = "${custom.flux_db_prod}${custom.flux_db_local}[$directory$git_branch$git_status]($style)$character"

[character]
error_symbol = "[‚úó](bold cyan)"
success_symbol = "[‚ùØ](bold cyan)"

[directory]
truncation_length = 2
truncation_symbol = "‚Ä¶/"
repo_root_style = "bold cyan"
repo_root_format = "[$repo_root]($repo_root_style)[$path]($style)[$read_only]($read_only_style) "

[git_branch]
format = "[$branch]($style) "
style = "italic cyan"

[git_status]
format     = '[$all_status]($style)'
style      = "cyan"
ahead      = "‚á°${count} "
diverged   = "‚áï‚á°${ahead_count}‚á£${behind_count} "
behind     = "‚á£${count} "
conflicted = "ÓÆ´ "
up_to_date = "ÔÄå "
untracked  = "? "
modified   = "Ó©± "
stashed    = ""
staged     = ""
renamed    = ""
deleted    = ""

[bun]
format = 'via [üçî $version](bold green) '

# Flux App database environment indicator (only in flux_app directory)
[custom.flux_db_prod]
command = "echo '[PROD]'"
when = "pwd | grep -q '/home/kicky/dev/flux_app' && test -f /home/kicky/dev/flux_app/.db-environment && grep -q 'REMOTE' /home/kicky/dev/flux_app/.db-environment"
format = "[$output]($style) "
style = "bold red"

[custom.flux_db_local]
command = "echo '[LOCAL]'"
when = "pwd | grep -q '/home/kicky/dev/flux_app' && { ! test -f /home/kicky/dev/flux_app/.db-environment || grep -q 'LOCAL' /home/kicky/dev/flux_app/.db-environment; }"
format = "[$output]($style) "
style = "bold green"
